apiVersion: vmoperator.vmware.com/v1alpha2
kind: VirtualMachine
metadata:
  name: my-vm
  namespace: my-namespace
spec:
  className: medium
  imageName: windows-11
  network:
    connection:
      name: subnet-123
    nameservers:
    - 1.1.1.1
    - 8.8.8.8
    searchDomains:
    - my.domain.local
    - my-other.domain.local
  bootstrap:
    vAppConfig:
    - key: network.primary-ip4
    sysprep:
      guiRunOnce:
        commands:
        - "dir C:"
        - "echo Hello"
      guiUnattended:
        autoLogon: true
        password:
          name: my-vm-bootstrap-secret
          key: password
        timeZone: <SomeMicrosoftTimeIndexValue>
      identification:
        domainAdmin: global-admin
        domainAdminPassword:
          name: my-vm-bootstrap-secret
          key: domainAdminPassword
        joinDomain: my-ad.local
      userData:
        fullName: Andrew Kutz
        orgName: VMware
        productID:
          name: my-vm-bootstrap-secret
          key: windowsProductKey
